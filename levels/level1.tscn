[gd_scene load_steps=14 format=3 uid="uid://1tpiypk6q276"]

[ext_resource type="PackedScene" uid="uid://bngo7kwdg8y5n" path="res://prefabs/platform.tscn" id="2_tybi2"]
[ext_resource type="PackedScene" uid="uid://3ix4cscpevhp" path="res://prefabs/lamp.tscn" id="5_lx4iu"]
[ext_resource type="PackedScene" uid="uid://ccroytbr8b1ul" path="res://models/glb/wall.glb" id="6_55r4m"]
[ext_resource type="PackedScene" uid="uid://biyx0la5cmvda" path="res://prefabs/pressurePlate.tscn" id="7_fcatn"]
[ext_resource type="Script" path="res://levels/PlayerController.gd" id="7_oeujf"]
[ext_resource type="PackedScene" uid="uid://bfvbqhf705hog" path="res://prefabs/crate_1.tscn" id="8_a21ik"]
[ext_resource type="PackedScene" uid="uid://bj5err828g4eb" path="res://prefabs/bridge.tscn" id="8_yce60"]
[ext_resource type="PackedScene" uid="uid://blfn3hbe880oe" path="res://prefabs/bridgeFinal.tscn" id="9_pu5i0"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_3t88u"]
sky_top_color = Color(0.0351365, 0.0337292, 0.0312264, 1)
sky_horizon_color = Color(0.521371, 0.516507, 0.528313, 1)
ground_bottom_color = Color(0.0503471, 0.0322987, 0.0820248, 1)
ground_horizon_color = Color(0.521371, 0.516507, 0.528313, 1)

[sub_resource type="Sky" id="Sky_ih6yg"]
sky_material = SubResource("ProceduralSkyMaterial_3t88u")

[sub_resource type="Environment" id="Environment_x5w1c"]
background_mode = 1
background_color = Color(0.0453124, 0.0453124, 0.0453124, 1)
sky = SubResource("Sky_ih6yg")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="CapsuleMesh" id="CapsuleMesh_3h40d"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ychiv"]
points = PackedVector3Array(-0.125207, -0.532801, -0.480507, 0.0227831, 0.47607, 0.498884, 0.169713, 0.559144, 0.464172, 0.231051, -0.803591, 0.320455, 0.40741, 0.651043, -0.243523, -0.482789, 0.594843, 0.0822132, -0.362868, -0.682312, 0.289697, 0.469044, -0.654529, -0.0662713, -0.127444, 0.842701, -0.338103, -0.393435, -0.683942, -0.244717, 0.438255, 0.623309, 0.200849, 0.0841477, 0.977454, 0.114795, -0.0682023, -0.976458, -0.12927, 0.20055, -0.563129, -0.451454, -0.185527, 0.595453, -0.453475, -0.273363, 0.592268, 0.407754, -0.00693649, -0.476823, 0.49966, 0.375821, -0.588614, 0.316955, 0.111579, 0.563059, -0.481177, -0.41725, 0.527866, -0.270497, -0.484546, -0.596972, -0.0665097, -0.279747, 0.908561, 0.0533361, -0.250197, -0.880712, 0.205319, 0.263647, -0.902771, -0.127394, 0.293368, 0.871526, -0.157196, 0.373412, -0.526319, -0.328246, 0.499663, 0.476641, -0.00688856, 0.0531056, 0.875001, 0.324703, -0.154543, -0.590854, 0.465879, -0.0972799, -0.782358, -0.398188, -0.387649, -0.498171, 0.31565, -0.30068, -0.587995, -0.388901)

[node name="Node3D" type="Node3D"]

[node name="Environment" type="Node" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_x5w1c")

[node name="SpotLight3D" type="SpotLight3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, -0.129765, 0.991545, 0, -0.991545, -0.129765, -5.54355, 16.7012, -0.0825589)
light_energy = 6.197
spot_range = 12.306
spot_angle = 42.14
spot_angle_attenuation = 3.24901

[node name="SpotLight3D2" type="SpotLight3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, -0.129765, 0.991545, 0, -0.991545, -0.129765, 0.393545, 16.7012, -4.37328)
light_energy = 6.197
spot_range = 12.306
spot_angle = 42.14
spot_angle_attenuation = 3.24901

[node name="Player" type="CharacterBody3D" parent="." node_paths=PackedStringArray("props", "raycast")]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, 2.65996, 16.1576, 0.808232)
script = ExtResource("7_oeujf")
props = NodePath("../Props")
raycast = NodePath("cameraPivot/Camera3D/RayCast3D")

[node name="Mesh" type="MeshInstance3D" parent="Player"]
transform = Transform3D(1, -1.21652e-31, 0, -1.21652e-31, 1, 0, 0, 0, 1, 2.08165e-12, 2.08165e-12, 2.08165e-12)
mesh = SubResource("CapsuleMesh_3h40d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 2.08165e-12, 2.08165e-12)
shape = SubResource("ConvexPolygonShape3D_ychiv")

[node name="cameraPivot" type="Node3D" parent="Player"]
transform = Transform3D(1, -1.21652e-31, 0, -1.21652e-31, 1, 0, 0, 0, 1, 0, 0.393745, 0)

[node name="Camera3D" type="Camera3D" parent="Player/cameraPivot"]
transform = Transform3D(1, -1.21652e-31, 0, -1.21652e-31, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="RayCast3D" type="RayCast3D" parent="Player/cameraPivot/Camera3D"]
transform = Transform3D(1, -1.21652e-31, 0, -1.21652e-31, 1, 0, 0, 0, 1, 0, 0, 0)
target_position = Vector3(2.08165e-12, 2.08165e-12, -2)

[node name="Platforms" type="Node3D" parent="."]

[node name="platform1" parent="Platforms" instance=ExtResource("2_tybi2")]

[node name="platform2" parent="Platforms" instance=ExtResource("2_tybi2")]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, -3.73904, 2.45205, 24.8147)

[node name="platform3" parent="Platforms" instance=ExtResource("2_tybi2")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, -6.45874, 3.91753, 44.2502)

[node name="platform4" parent="Platforms" instance=ExtResource("2_tybi2")]
transform = Transform3D(-1, 3.48787e-16, -8.74228e-08, 3.48787e-16, 1, -3.48787e-16, 8.74228e-08, -3.48787e-16, -1, 12.845, 2.39406, 52.3496)

[node name="platform7" parent="Platforms" instance=ExtResource("2_tybi2")]
transform = Transform3D(1, -3.48787e-16, 0, 3.48787e-16, 1, -3.48787e-16, 0, 3.48787e-16, 1, 38.2451, 4.87484, 46.7783)

[node name="platform8" parent="Platforms" instance=ExtResource("2_tybi2")]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, 60.6562, 6.84559, 41.1062)

[node name="Bridges" type="Node3D" parent="."]

[node name="Bridge" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.17377, -0.0445471, 7.86156)

[node name="Bridge2" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(1, 0, -0.000802851, 0, 1, 0, 0.000802851, 0, 1, 1.17648, 0.505797, 10.5892)

[node name="Bridge3" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.79547, 0.999935, 13.5489)

[node name="BridgeEnd" parent="Bridges" instance=ExtResource("9_pu5i0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.466819, 1.52994, 16.5303)

[node name="Bridge4" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.58127, 2.54912, 33.0043)

[node name="BridgeEnd2" parent="Bridges" instance=ExtResource("9_pu5i0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.7968, 3.12396, 35.9885)

[node name="Bridge5" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 4.61495, 2.53278, 49.1175)

[node name="BridgeEnd3" parent="Bridges" instance=ExtResource("9_pu5i0")]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 1.63075, 3.10762, 47.4291)

[node name="Bridge6" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(-2.29986e-07, 0, 1, 0, 1, 0, -1, 0, -2.27434e-07, 21.0516, 2.46686, 49.0518)

[node name="Bridge7" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(-2.29986e-07, 0, 1, 0, 1, 0, -1, 0, -2.27434e-07, 24.0276, 2.95276, 50.015)

[node name="Bridge8" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(-2.29986e-07, 0, 1, 0, 1, 0, -1, 0, -2.27434e-07, 27.0446, 3.46451, 49.5632)

[node name="BridgeEnd4" parent="Bridges" instance=ExtResource("9_pu5i0")]
transform = Transform3D(-2.29986e-07, 0, 1, 0, 1, 0, -1, 0, -2.27434e-07, 30.0478, 3.91289, 49.9726)

[node name="Bridge9" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(-2.29986e-07, 0, 1, 0, 1, 0, -1, 0, -2.27434e-07, 46.3986, 4.9845, 43.5297)

[node name="Bridge10" parent="Bridges" instance=ExtResource("8_yce60")]
transform = Transform3D(-2.29986e-07, 0, 1, 0, 1, 0, -1, 0, -2.27434e-07, 49.3745, 5.4704, 42.744)

[node name="BridgeEnd5" parent="Bridges" instance=ExtResource("9_pu5i0")]
transform = Transform3D(-2.29986e-07, 0, 1, 0, 1, 0, -1, 0, -2.27434e-07, 52.4252, 5.92075, 44.4504)

[node name="Walls" type="Node3D" parent="."]

[node name="wall" parent="Walls" instance=ExtResource("6_55r4m")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 27.1224, 43.9758, 146.463)

[node name="wall2" parent="Walls" instance=ExtResource("6_55r4m")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 27.1224, 43.9758, -177.392)

[node name="wall3" parent="Walls" instance=ExtResource("6_55r4m")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 189.05, 43.9758, -15.4646)

[node name="wall4" parent="Walls" instance=ExtResource("6_55r4m")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -134.805, 43.9758, -15.4646)

[node name="wall5" parent="Walls" instance=ExtResource("6_55r4m")]
transform = Transform3D(4.37114e-08, -1, 3.82137e-15, -1, -4.37114e-08, -8.74228e-08, 8.74228e-08, 0, -1, 27.1224, 205.904, -15.4646)

[node name="wall6" parent="Walls" instance=ExtResource("6_55r4m")]
transform = Transform3D(4.37114e-08, -1, 3.82137e-15, -1, -4.37114e-08, -8.74228e-08, 8.74228e-08, 0, -1, 27.122, -30, -15.465)

[node name="PressurePlate" parent="." node_paths=PackedStringArray("bridge1", "bridge2", "bridge3", "bridge4", "bridges") instance=ExtResource("7_fcatn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.24693, 12.4681, -4.8078)
bridge1 = NodePath("../Bridges/Bridge")
bridge2 = NodePath("../Bridges/Bridge2")
bridge3 = NodePath("../Bridges/Bridge3")
bridge4 = NodePath("../Bridges/BridgeEnd")
bridges = NodePath("../Bridges")

[node name="PressurePlate2" parent="." node_paths=PackedStringArray("bridge1", "bridge2", "bridges") instance=ExtResource("7_fcatn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.41831, 14.9399, 24.601)
bridge1 = NodePath("../Bridges/Bridge4")
bridge2 = NodePath("../Bridges/BridgeEnd2")
bridges = NodePath("../Bridges")

[node name="PressurePlate3" parent="." node_paths=PackedStringArray("bridge1", "bridge2", "bridges") instance=ExtResource("7_fcatn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.029, 16.3644, 39.7538)
bridge1 = NodePath("../Bridges/Bridge5")
bridge2 = NodePath("../Bridges/BridgeEnd3")
bridges = NodePath("../Bridges")

[node name="PressurePlate4" parent="." node_paths=PackedStringArray("bridge1", "bridge2", "bridge3", "bridge4", "bridges") instance=ExtResource("7_fcatn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.41908, 14.8924, 56.3855)
bridge1 = NodePath("../Bridges/Bridge6")
bridge2 = NodePath("../Bridges/Bridge7")
bridge3 = NodePath("../Bridges/Bridge8")
bridge4 = NodePath("../Bridges/BridgeEnd4")
bridges = NodePath("../Bridges")

[node name="PressurePlate5" parent="." node_paths=PackedStringArray("bridge1", "bridge2", "bridge3", "bridges") instance=ExtResource("7_fcatn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 37.9081, 17.3804, 42.2894)
bridge1 = NodePath("../Bridges/Bridge9")
bridge2 = NodePath("../Bridges/Bridge10")
bridge3 = NodePath("../Bridges/BridgeEnd5")
bridges = NodePath("../Bridges")

[node name="Props" type="Node3D" parent="."]

[node name="StaticBody3D" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.33377, 12.4572, -5.22514)

[node name="StaticBody3D3" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.68542, 14.8593, 26.9978)

[node name="StaticBody3D5" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.51326, 16.4374, 49.7237)

[node name="StaticBody3D6" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.2067, 14.7994, 46.6476)

[node name="StaticBody3D7" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.3558, 14.7994, 57.8381)

[node name="StaticBody3D8" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34.6253, 17.3242, 43.2747)

[node name="StaticBody3D9" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 42.0566, 17.3242, 50.5701)

[node name="StaticBody3D10" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 66.0071, 19.1993, 35.6754)

[node name="StaticBody3D11" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 55.0591, 19.1993, 40.4903)

[node name="StaticBody3D4" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.7802, 14.8593, 19.449)

[node name="StaticBody3D2" parent="Props" instance=ExtResource("5_lx4iu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.19459, 12.4572, 4.61867)

[node name="Crate1" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(0.937389, -6.06891e-33, -0.35816, -8.15841e-24, 1.00348, 8.15841e-24, 0.35816, 1.1326e-31, 0.937389, -5.76645, 12.7465, -0.518837)

[node name="Crate2" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(1.00348, -1.22076e-31, -8.15841e-24, -8.15841e-24, 1.00348, 8.15841e-24, 0, 0, 1.00348, -5.53726, 13.3512, 0.996145)

[node name="Crate3" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(0.976005, -2.15104e-31, 0.233219, -8.15841e-24, 1.00348, 8.15841e-24, -0.233219, -4.76837e-32, 0.976005, -5.48282, 12.7388, 1.46738)

[node name="Crate4" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(1.00348, -1.22076e-31, -8.15841e-24, -8.15841e-24, 1.00348, 8.15841e-24, 0, 0, 1.00348, -5.64277, 12.7538, 0.499335)

[node name="Crate7" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-0.867751, -1.25261e-30, 0.503969, -8.15841e-24, 1.00348, 8.15841e-24, -0.503969, 8.70494e-31, -0.867751, -2.5308, 15.2546, 28.5041)

[node name="Crate8" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-0.726863, 1.08898e-30, 0.691844, -8.15841e-24, 1.00348, 8.15841e-24, -0.691844, -3.61794e-31, -0.726863, -3.08235, 15.2696, 29.3156)

[node name="Crate9" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(0.711388, -2.29358e-31, 0.707747, -8.15841e-24, 1.00348, 8.15841e-24, -0.707747, -8.32757e-31, 0.711388, -9.11655, 16.7127, 47.6239)

[node name="Crate10" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(0.856396, 7.95162e-32, 0.523033, -8.15841e-24, 1.00348, 8.15841e-24, -0.523033, 1.67702e-30, 0.856396, -9.75762, 16.7277, 46.8811)

[node name="Crate11" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-0.815973, -1.33898e-31, -0.584093, -8.15841e-24, 1.00348, 8.15841e-24, 0.584093, 6.09004e-31, -0.815973, 15.928, 15.1784, 50.661)

[node name="Crate12" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-0.929379, 1.40088e-31, -0.378459, -8.15841e-24, 1.00348, 8.15841e-24, 0.378459, -3.44555e-30, -0.929379, 16.4413, 15.1934, 51.4972)

[node name="Crate13" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-1.00346, 1.58508e-30, 0.00718083, -8.15841e-24, 1.00348, 8.15841e-24, -0.00718076, -3.09379e-30, -1.00346, 16.5273, 15.1934, 52.5761)

[node name="Crate14" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-1.00346, 1.58508e-30, 0.00718083, -8.15841e-24, 1.00348, 8.15841e-24, -0.00718076, -3.09379e-30, -1.00346, 16.4868, 15.8058, 52.0736)

[node name="Crate15" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-0.594287, 3.70168e-30, 0.80858, -8.15841e-24, 1.00348, 8.15841e-24, -0.808579, -4.23075e-31, -0.594287, 38.9094, 17.6187, 49.1043)

[node name="Crate16" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-0.23848, 3.48587e-30, 0.974733, -8.15841e-24, 1.00348, 8.15841e-24, -0.974733, 1.95713e-30, -0.23848, 37.9144, 17.6187, 49.5952)

[node name="Crate17" parent="Props" instance=ExtResource("8_a21ik")]
transform = Transform3D(-0.23848, 3.48587e-30, 0.974733, -8.15841e-24, 1.00348, 8.15841e-24, -0.974733, 1.95713e-30, -0.23848, 38.3917, 18.2311, 49.4331)
